import './polyfills.server.mjs';
import{g as h}from"./chunk-6ESWO6R6.mjs";import{$ as c,Ca as f,Fb as g,ab as e,bb as n,eb as u,gb as m,nb as t,ob as p,pb as s,qa as o}from"./chunk-HHQVPXUZ.mjs";import"./chunk-T55IDOPT.mjs";var S=class E{sourceValue=c("Initial Value");linkedValue=g(()=>this.sourceValue());defaultPrice=c(99.99);customPrice=g(()=>this.defaultPrice());discount=c(0);constructor(){this.updateDiscount()}resetSource(){this.sourceValue.set("Initial Value")}loadNewPrice(){let d=Math.floor(Math.random()*200)+50;this.defaultPrice.set(d)}updateDiscount(){setInterval(()=>{let d=this.defaultPrice(),r=this.customPrice();if(r<d){let i=Math.round((d-r)/d*100);this.discount.set(i)}else this.discount.set(0)},500)}static \u0275fac=function(r){return new(r||E)};static \u0275cmp=f({type:E,selectors:[["app-linked-signal-demo"]],decls:76,vars:9,consts:[[1,"demo-container"],[1,"section"],[1,"description"],[1,"control-group"],["type","text","placeholder","Type source value",3,"input","value"],[3,"click"],["type","text","placeholder","Type local value",3,"input","value"],[1,"info"],[1,"status"],[1,"hint"],["type","number",3,"input","value"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"h2"),t(2,"\u{1F517} Linked Signal Demo (New in v21)"),n(),e(3,"div",1)(4,"h3"),t(5,"What is linkedSignal?"),n(),e(6,"p",2)(7,"code"),t(8,"linkedSignal()"),n(),t(9," creates a writable signal that automatically syncs with a source signal, but can also be modified independently. When the source changes, the linked signal resets to match it. "),n()(),e(10,"div",1)(11,"h3"),t(12,"Example: Search with Reset"),n(),e(13,"div",3)(14,"label"),t(15,"Source Value (API/Props):"),n(),e(16,"input",4),m("input",function(a){return i.sourceValue.set(a.target.value)}),n(),e(17,"button",5),m("click",function(){return i.resetSource()}),t(18,"Reset Source"),n()(),e(19,"div",3)(20,"label"),t(21,"Linked Value (Local State):"),n(),e(22,"input",6),m("input",function(a){return i.linkedValue.set(a.target.value)}),n(),e(23,"p",7),t(24,"This value syncs from source but can be edited independently"),n()(),e(25,"div",8)(26,"p"),t(27,"Source Value: "),e(28,"strong"),t(29),n()(),e(30,"p"),t(31,"Linked Value: "),e(32,"strong"),t(33),n()(),e(34,"p",9),t(35,"\u{1F4A1} When you change the source, the linked value resets to match it!"),n()()(),e(36,"div",1)(37,"h3"),t(38,"Example: Form with Default Values"),n(),e(39,"div",3)(40,"label"),t(41,"Product Price (from API):"),n(),e(42,"input",10),m("input",function(a){return i.defaultPrice.set(+a.target.value)}),n(),e(43,"button",5),m("click",function(){return i.loadNewPrice()}),t(44,"Load New Price"),n()(),e(45,"div",3)(46,"label"),t(47,"Your Custom Price:"),n(),e(48,"input",10),m("input",function(a){return i.customPrice.set(+a.target.value)}),n(),e(49,"p",7),t(50,"Edit price locally, resets when default price changes"),n()(),e(51,"div",8)(52,"p"),t(53,"Default Price: "),e(54,"strong"),t(55),n()(),e(56,"p"),t(57,"Custom Price: "),e(58,"strong"),t(59),n()(),e(60,"p"),t(61,"Discount: "),e(62,"strong"),t(63),n()()()(),e(64,"div",1)(65,"h3"),t(66,"Use Cases for linkedSignal()"),n(),e(67,"ul")(68,"li"),t(69,"\u2705 Form fields that reset when props/data changes"),n(),e(70,"li"),t(71,"\u2705 Local editable copies of remote data"),n(),e(72,"li"),t(73,"\u2705 Search inputs that reset when filters change"),n(),e(74,"li"),t(75,"\u2705 Temporary modifications that can be reverted"),n()()()()),r&2&&(o(16),u("value",i.sourceValue()),o(6),u("value",i.linkedValue()),o(7),p(i.sourceValue()),o(4),p(i.linkedValue()),o(9),u("value",i.defaultPrice()),o(6),u("value",i.customPrice()),o(7),s("$",i.defaultPrice()),o(4),s("$",i.customPrice()),o(4),s("",i.discount(),"%"))},dependencies:[h],styles:[".demo-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#dd0031;border-bottom:2px solid #dd0031;padding-bottom:.5rem}.section[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;border:1px solid #ddd;border-radius:8px;background:#f9f9f9}h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.description[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-left:4px solid #dd0031;margin:1rem 0}code[_ngcontent-%COMP%]{background:#ffe6e6;padding:.2rem .5rem;border-radius:3px;font-family:Courier New,monospace}.control-group[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background:#fff;border-radius:4px}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700;color:#333}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #ddd;border-radius:4px;font-size:1rem;margin-bottom:.5rem}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#dd0031}button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background:#dd0031;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem}button[_ngcontent-%COMP%]:hover{background:#c50028}.status[_ngcontent-%COMP%]{background:#e6f7ff;padding:1rem;border-radius:4px;margin-top:1rem}.info[_ngcontent-%COMP%]{color:#666;font-size:.9rem;font-style:italic;margin:.5rem 0}.hint[_ngcontent-%COMP%]{color:#ff6b00;font-weight:700}strong[_ngcontent-%COMP%]{color:#dd0031}ul[_ngcontent-%COMP%]{margin:1rem 0;padding-left:1.5rem}li[_ngcontent-%COMP%]{margin:.5rem 0;line-height:1.6}"]})};export{S as LinkedSignalDemoComponent};
