import './polyfills.server.mjs';
import{Ca as S,Gb as b,Q as p,R as E,Ua as l,Va as c,Wa as C,Xa as x,ab as t,bb as e,cb as v,db as g,ec as h,gb as _,hb as u,nb as n,ob as f,pb as s,qa as i}from"./chunk-HHQVPXUZ.mjs";import"./chunk-T55IDOPT.mjs";var M=(r,a)=>a.id;function O(r,a){r&1&&(t(0,"div",3),v(1,"div",7),t(2,"p"),n(3,"Loading users..."),e()())}function w(r,a){if(r&1){let o=g();t(0,"div",4)(1,"p"),n(2),e(),t(3,"button",8),_("click",function(){p(o);let m=u();return E(m.usersResource.reload())}),n(4,"Retry"),e()()}if(r&2){let o,d=u();i(2),s("\u274C Error: ",(o=d.usersResource.error())==null?null:o.message)}}function D(r,a){if(r&1&&(t(0,"div",10)(1,"h4"),n(2),e(),t(3,"p"),n(4),e(),t(5,"p",11),n(6),e()()),r&2){let o=a.$implicit;i(2),f(o.name),i(2),s("@",o.username),i(2),f(o.email)}}function k(r,a){if(r&1){let o=g();t(0,"div",5)(1,"p"),n(2),e(),t(3,"button",8),_("click",function(){p(o);let m=u();return E(m.usersResource.reload())}),n(4,"Refresh"),e(),t(5,"div",9),C(6,D,7,3,"div",10,M),e()()}if(r&2){let o=a;i(2),s("\u2705 Loaded ",o.length," users"),i(4),x(o.slice(0,5))}}function I(r,a){r&1&&(t(0,"div",3),v(1,"div",7),t(2,"p"),n(3,"Loading posts..."),e()())}function L(r,a){if(r&1){let o=g();t(0,"div",4)(1,"p"),n(2,"\u274C Error loading posts"),e(),t(3,"button",8),_("click",function(){p(o);let m=u();return E(m.postsResource.reload())}),n(4,"Retry"),e()()}}function y(r,a){if(r&1&&(t(0,"div",13)(1,"h4"),n(2),e(),t(3,"p"),n(4),e()()),r&2){let o=a.$implicit;i(2),f(o.title),i(2),f(o.body)}}function V(r,a){if(r&1){let o=g();t(0,"div",5)(1,"p"),n(2),e(),t(3,"button",8),_("click",function(){p(o);let m=u();return E(m.postsResource.reload())}),n(4,"Refresh"),e(),t(5,"div",12),C(6,y,5,2,"div",13,M),e()()}if(r&2){let o=a;i(2),s("\u2705 Loaded ",o.length," posts"),i(4),x(o.slice(0,3))}}var P=class r{usersResource=b({loader:async()=>{console.log("\u{1F504} Loading users...");let a=await fetch("https://jsonplaceholder.typicode.com/users");if(!a.ok)throw new Error("Failed to load users");let o=await a.json();return console.log("\u2705 Users loaded:",o.length),o}});postsResource=b({loader:async()=>{console.log("\u{1F504} Loading posts..."),await new Promise(d=>setTimeout(d,1500));let a=await fetch("https://jsonplaceholder.typicode.com/posts");if(!a.ok)throw new Error("Failed to load posts");let o=await a.json();return console.log("\u2705 Posts loaded:",o.length),o}});static \u0275fac=function(o){return new(o||r)};static \u0275cmp=S({type:r,selectors:[["app-resource-demo"]],decls:61,vars:14,consts:[[1,"demo-container"],[1,"section"],[1,"description"],[1,"loading"],[1,"error"],[1,"success"],[1,"state-info"],[1,"spinner"],[3,"click"],[1,"user-list"],[1,"user-card"],[1,"email"],[1,"post-list"],[1,"post-card"]],template:function(o,d){if(o&1&&(t(0,"div",0)(1,"h2"),n(2,"\u{1F504} Resource API Demo (New in v21)"),e(),t(3,"div",1)(4,"h3"),n(5,"What is resource()?"),e(),t(6,"p",2)(7,"code"),n(8,"resource()"),e(),n(9," is a new primitive for async data loading that provides: "),e(),t(10,"ul")(11,"li"),n(12,"\u2705 Automatic loading states (loading, success, error)"),e(),t(13,"li"),n(14,"\u2705 Reactive dependencies - refetch when signals change"),e(),t(15,"li"),n(16,"\u2705 Built-in error handling"),e(),t(17,"li"),n(18,"\u2705 Cancellation of pending requests"),e(),t(19,"li"),n(20,"\u2705 No need for manual state management"),e()()(),t(21,"div",1)(22,"h3"),n(23,"Example 1: Load Users"),e(),l(24,O,4,0,"div",3),l(25,w,5,1,"div",4),l(26,k,8,1,"div",5),e(),t(27,"div",1)(28,"h3"),n(29,"Example 2: Load Posts (with delay simulation)"),e(),l(30,I,4,0,"div",3),l(31,L,5,0,"div",4),l(32,V,8,1,"div",5),e(),t(33,"div",1)(34,"h3"),n(35,"Resource State"),e(),t(36,"div",6)(37,"p")(38,"strong"),n(39,"Users Resource:"),e()(),t(40,"ul")(41,"li"),n(42),e(),t(43,"li"),n(44),e(),t(45,"li"),n(46),e(),t(47,"li"),n(48),e()(),t(49,"p")(50,"strong"),n(51,"Posts Resource:"),e()(),t(52,"ul")(53,"li"),n(54),e(),t(55,"li"),n(56),e(),t(57,"li"),n(58),e(),t(59,"li"),n(60),e()()()()()),o&2){let m,R;i(24),c(d.usersResource.isLoading()?24:-1),i(),c(d.usersResource.error()?25:-1),i(),c((m=d.usersResource.value())?26:-1,m),i(4),c(d.postsResource.isLoading()?30:-1),i(),c(d.postsResource.error()?31:-1),i(),c((R=d.postsResource.value())?32:-1,R),i(10),s("Status: ",d.usersResource.status()),i(2),s("Is Loading: ",d.usersResource.isLoading()),i(2),s("Has Value: ",d.usersResource.hasValue()),i(2),s("Has Error: ",!!d.usersResource.error()),i(6),s("Status: ",d.postsResource.status()),i(2),s("Is Loading: ",d.postsResource.isLoading()),i(2),s("Has Value: ",d.postsResource.hasValue()),i(2),s("Has Error: ",!!d.postsResource.error())}},dependencies:[h],styles:[".demo-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#dd0031;border-bottom:2px solid #dd0031;padding-bottom:.5rem}.section[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;border:1px solid #ddd;border-radius:8px;background:#f9f9f9}h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.description[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-left:4px solid #dd0031;margin:1rem 0}code[_ngcontent-%COMP%]{background:#ffe6e6;padding:.2rem .5rem;border-radius:3px;font-family:Courier New,monospace}.loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#fff;border-radius:4px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #dd0031;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error[_ngcontent-%COMP%]{background:#ffebee;padding:1rem;border-left:4px solid #c62828;border-radius:4px;color:#c62828}.success[_ngcontent-%COMP%]{background:#e8f5e9;padding:1rem;border-left:4px solid #2e7d32;border-radius:4px}button[_ngcontent-%COMP%]{margin:.5rem .5rem .5rem 0;padding:.5rem 1rem;background:#dd0031;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem}button[_ngcontent-%COMP%]:hover{background:#c50028}.user-list[_ngcontent-%COMP%], .post-list[_ngcontent-%COMP%]{display:grid;gap:1rem;margin-top:1rem}.user-card[_ngcontent-%COMP%], .post-card[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:4px;border:1px solid #ddd}.user-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .post-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#dd0031}.user-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .post-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:#666}.email[_ngcontent-%COMP%]{color:#999;font-size:.9rem}.state-info[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:4px}.state-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1.5rem}.state-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#dd0031}ul[_ngcontent-%COMP%]{line-height:1.8}"]})};export{P as ResourceDemoComponent};
